const store = [
  {
    event: 'message',
    message:
      'data:image/png;base64,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',
    roomID: '0',
    time: '16:14:11',
    userID: '1555503179494',
    username: 'альфред'
  }
];
const MAX_STORE_LENGTH = 10;

const addToStore = data => {
  store.push(data);
  if (store.length > MAX_STORE_LENGTH) {
    store.shift();
  }
};

const addToUsers = (users, id, username) => {
  const findedUser = users.find(user => user.id === id);

  if (findedUser) {
    findedUser.username = username;
  } else {
    users.push({ id, username });
  }
  return users;
};

const removeFromUsers = (users, id) => {
  return users.filter(user => user.id !== id);
};

module.exports = {
  store: store,
  addToStore: addToStore,
  addToUsers: addToUsers,
  removeFromUsers: removeFromUsers
};
